{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 46, "column": 0}, "map": {"version":3,"sources":["file:///D:/Portfolio_Websit/app/api/github-repos/route.ts"],"sourcesContent":["import { NextResponse } from \"next/server\"\r\n\r\nconst DEFAULT_USERNAME = \"snehal28668\"\r\nconst USERNAME =\r\n  process.env.GITHUB_USERNAME || process.env.NEXT_PUBLIC_GITHUB_USERNAME || DEFAULT_USERNAME\r\nconst TOKEN = process.env.GITHUB_TOKEN\r\nconst EXCLUDED_REPOS = new Set([\r\n  \"mind\",\r\n  \"snehal-portfolio\",\r\n  \"mind-ease\",\r\n  \"mind-ease-\",\r\n  \"special-code-\",\r\n  \"portfolio\",\r\n  \"resume\",\r\n]) // repos to hide from the projects list\r\n\r\nexport async function GET() {\r\n  if (!USERNAME) {\r\n    return NextResponse.json({ error: \"Missing GitHub username. Set GITHUB_USERNAME.\" }, { status: 500 })\r\n  }\r\n\r\n  const headers: Record<string, string> = {\r\n    Accept: \"application/vnd.github+json\",\r\n    \"X-GitHub-Api-Version\": \"2022-11-28\",\r\n    \"User-Agent\": \"portfolio-site\",\r\n  }\r\n\r\n  if (TOKEN) {\r\n    headers.Authorization = `Bearer ${TOKEN}`\r\n  }\r\n\r\n  const response = await fetch(\r\n    `https://api.github.com/users/${USERNAME}/repos?sort=updated&per_page=50`,\r\n    {\r\n      headers,\r\n      next: { revalidate: 3600 },\r\n    }\r\n  )\r\n\r\n  if (!response.ok) {\r\n    const message = await response.text()\r\n    return NextResponse.json(\r\n      {\r\n        error: \"Failed to fetch repositories from GitHub.\",\r\n        details: message,\r\n      },\r\n      { status: response.status }\r\n    )\r\n  }\r\n\r\n  const repos = await response.json()\r\n\r\n  const filteredRepos = repos.filter((repo: any) => !EXCLUDED_REPOS.has(String(repo.name || \"\").toLowerCase()))\r\n\r\n  // Custom project images mapping - add your project names and image paths here\r\n  const customImages: Record<string, string> = {\r\n    \"ai-interview\": \"/ai-interview.jpg\",\r\n    \"amazon-clone\": \"/amazon-clone.jpg\",\r\n    \"analytics-dashboard\": \"/analytics-dashboard.png\",\r\n    \"chat-ai-app\": \"/chat-ai-app.jpg\",\r\n    \"collaboration-tool\": \"/collaboration-tool.jpg\",\r\n    \"currency-exchange\": \"/currency-exchange.jpg\",\r\n    \"ecommerce-store\": \"/ecommerce-store.jpg\",\r\n    \"ml-model\": \"/ml-model.jpg\",\r\n    \"password-manager\": \"/password-manager.jpg\",\r\n    \"task-manager\": \"/task-manager.jpg\",\r\n  }\r\n\r\n  const mapped = filteredRepos.map((repo: any) => {\r\n    const tags = Array.from(\r\n      new Set(\r\n        [\r\n          repo.language,\r\n          ...(Array.isArray(repo.topics) ? repo.topics : []),\r\n        ].filter(Boolean)\r\n      )\r\n    )\r\n\r\n    // Use custom image if available, otherwise fallback to GitHub opengraph\r\n    const repoName = String(repo.name || \"\").toLowerCase()\r\n    const customImage = customImages[repoName]\r\n    const defaultImage = repo.full_name ? `https://opengraph.githubassets.com/1/${repo.full_name}` : undefined\r\n\r\n    return {\r\n      id: repo.id,\r\n      title: repo.name,\r\n      description: repo.description || \"No description provided.\",\r\n      tags,\r\n      category: repo.language || \"Other\",\r\n      image: customImage || defaultImage,\r\n      github: repo.html_url,\r\n      live: repo.homepage || repo.html_url,\r\n    }\r\n  })\r\n\r\n  return NextResponse.json(mapped)\r\n}\r\n"],"names":[],"mappings":";;;;AAAA;;AAEA,MAAM,mBAAmB;AACzB,MAAM,WACJ,QAAQ,GAAG,CAAC,eAAe,IAAI,QAAQ,GAAG,CAAC,2BAA2B,IAAI;AAC5E,MAAM,QAAQ,QAAQ,GAAG,CAAC,YAAY;AACtC,MAAM,iBAAiB,IAAI,IAAI;IAC7B;IACA;IACA;IACA;IACA;IACA;IACA;CACD,EAAE,uCAAuC;;AAEnC,eAAe;IACpB;;IAIA,MAAM,UAAkC;QACtC,QAAQ;QACR,wBAAwB;QACxB,cAAc;IAChB;IAEA,IAAI,OAAO;QACT,QAAQ,aAAa,GAAG,CAAC,OAAO,EAAE,OAAO;IAC3C;IAEA,MAAM,WAAW,MAAM,MACrB,CAAC,6BAA6B,EAAE,SAAS,+BAA+B,CAAC,EACzE;QACE;QACA,MAAM;YAAE,YAAY;QAAK;IAC3B;IAGF,IAAI,CAAC,SAAS,EAAE,EAAE;QAChB,MAAM,UAAU,MAAM,SAAS,IAAI;QACnC,OAAO,gJAAY,CAAC,IAAI,CACtB;YACE,OAAO;YACP,SAAS;QACX,GACA;YAAE,QAAQ,SAAS,MAAM;QAAC;IAE9B;IAEA,MAAM,QAAQ,MAAM,SAAS,IAAI;IAEjC,MAAM,gBAAgB,MAAM,MAAM,CAAC,CAAC,OAAc,CAAC,eAAe,GAAG,CAAC,OAAO,KAAK,IAAI,IAAI,IAAI,WAAW;IAEzG,8EAA8E;IAC9E,MAAM,eAAuC;QAC3C,gBAAgB;QAChB,gBAAgB;QAChB,uBAAuB;QACvB,eAAe;QACf,sBAAsB;QACtB,qBAAqB;QACrB,mBAAmB;QACnB,YAAY;QACZ,oBAAoB;QACpB,gBAAgB;IAClB;IAEA,MAAM,SAAS,cAAc,GAAG,CAAC,CAAC;QAChC,MAAM,OAAO,MAAM,IAAI,CACrB,IAAI,IACF;YACE,KAAK,QAAQ;eACT,MAAM,OAAO,CAAC,KAAK,MAAM,IAAI,KAAK,MAAM,GAAG,EAAE;SAClD,CAAC,MAAM,CAAC;QAIb,wEAAwE;QACxE,MAAM,WAAW,OAAO,KAAK,IAAI,IAAI,IAAI,WAAW;QACpD,MAAM,cAAc,YAAY,CAAC,SAAS;QAC1C,MAAM,eAAe,KAAK,SAAS,GAAG,CAAC,qCAAqC,EAAE,KAAK,SAAS,EAAE,GAAG;QAEjG,OAAO;YACL,IAAI,KAAK,EAAE;YACX,OAAO,KAAK,IAAI;YAChB,aAAa,KAAK,WAAW,IAAI;YACjC;YACA,UAAU,KAAK,QAAQ,IAAI;YAC3B,OAAO,eAAe;YACtB,QAAQ,KAAK,QAAQ;YACrB,MAAM,KAAK,QAAQ,IAAI,KAAK,QAAQ;QACtC;IACF;IAEA,OAAO,gJAAY,CAAC,IAAI,CAAC;AAC3B"}}]
}